<div class="card" style="height:90vh;padding-bottom:90px;">
    <div class="card-header">
        CHARGES
    </div>
    <div class="row p-1">
        <div class="col-md-12">
            <input class="form-control form-control-sm" type="text" placeholder="Advanced Search... " (click)="onSearchClicked()" />
        </div>
        <div class="col-md-10">
            <ng-select name="drug-code" class='p-0 form-control form-control-sm  custom-select custom-select-medium-width' [items]="drugs" bindLabel='name' bindValue='id' (change)="onDrugSelect($event)" [addTag]="false" [loading]="loading" [virtualScroll]="true"
                [typeahead]="codesTypeahead" [clearable]=false>
                <ng-template ng-header-tmp>
                    <div class="row">
                        <div class="col-md-4 font-weight-semi-bold">Code</div>
                        <div class="col-md-6 font-weight-semi-bold">Name</div>
                        <div class="col-md-2 font-weight-semi-bold">Brand</div>
                    </div>
                </ng-template>
                <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
                    <div class="row">
                        <div class="col-md-4">{{item.code}}</div>
                        <div class="col-md-6">{{item.name}}</div>
                        <div class="col-md-2">{{item.brand}}</div>
                    </div>
                </ng-template>
            </ng-select>
        </div>
        <div class="col-md-1 pr-1">
            <button class='btn btn-sm btn-outline-gray-200' (click)='onSearchDrug()'>
                <i class="icon-search"></i>
            </button>
        </div>
    </div>
    <div class="row sub-heading-grey mx-0 justify-content-center">
        <div class="center">Advanced Search</div>
    </div>
    <div class="card-header bg-white">
        <div class="row">
            <div class="col-md-4 text-small  text-indigo">Charge</div>
            <div class="col-md-8 text-brand-secondary font-weight-bold">{{topDrugDescription.charge}}
                <span *ngIf="topDrugDescription.charge">/</span> {{topDrugDescription.qty}} {{topDrugDescription.uom}}</div>
        </div>
        <div class="row">
            <div class="col-md-4  text-small text-indigo">SIG & Indication</div>
            <div class="col-md-8 text-brand-secondary">{{topDrugDescription.dosageInstruction}} {{topDrugDescription.sig}}</div>
        </div>
        <div class="row">
            <div class="col-md-4  text-small text-indigo ">Cautionary</div>
            <div class="col-md-8text-brand-secondary">{{topDrugDescription.cautionary}}</div>
        </div>
        <div class="row">
            <div class="col-md-4  text-small text-indigo ">Remarks</div>
            <div class="col-md-8 text-brand-secondary">{{topDrugDescription.remarks}}</div>
        </div>

    </div>
    <div class="row mx-0">
        <div class="col p-1 pl-3 bg-warm-grey text-white">
            Item Code
        </div>
        <div class="col p-1 bg-warm-grey text-white">
            Price ($)
        </div>
    </div>
    <div class="card-body px-0 pt-0" style="
    overflow: scroll;
    padding-bottom:50px;">
        <app-prescription-item *ngFor="let item of itemsFormArray.controls; let i=index" [index]="i" [prescriptionItem]="item" (onTopDrugDescriptionChanged)="onTopDrugDescriptionUpdated($event)" (onDelete)="onDelete($event)"></app-prescription-item>
        <br>
        <button class="btn btn-sm btn-outline-brand-secondary float-right mr-2" (click)="addItem()">+ Add Prescription</button>
        <br>
        <br>
        <div class="row p-2 mx-0" style="
        background-color:#e3f2fa;
        position: fixed;
        bottom: 69px;
        width: 100%;">

            <div class="col-2">
                Total Bill Amount
            </div>
            <div class="col-1">
                $100
            </div>
        </div>
    </div>
</div>